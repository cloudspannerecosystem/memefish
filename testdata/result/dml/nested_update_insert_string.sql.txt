--- nested_update_insert_string.sql
UPDATE Singers s
SET (INSERT s.AlbumInfo.comments
     VALUES ("Groovy!"))
WHERE s.SingerId = 5 AND s.AlbumInfo.title = "Fire is Hot"
--- AST
&ast.Update{
  TableName: &ast.Path{
    Idents: []*ast.Ident{
      &ast.Ident{
        NamePos: 7,
        NameEnd: 14,
        Name:    "Singers",
      },
    },
  },
  As: &ast.AsAlias{
    As:    -1,
    Alias: &ast.Ident{
      NamePos: 15,
      NameEnd: 16,
      Name:    "s",
    },
  },
  Updates: []ast.UpdateItem{
    &ast.UpdateItemNested{
      Lparen: 21,
      Rparen: 73,
      DML:    &ast.Insert{
        Insert:    22,
        TableName: &ast.Path{
          Idents: []*ast.Ident{
            &ast.Ident{
              NamePos: 29,
              NameEnd: 30,
              Name:    "s",
            },
            &ast.Ident{
              NamePos: 31,
              NameEnd: 40,
              Name:    "AlbumInfo",
            },
            &ast.Ident{
              NamePos: 41,
              NameEnd: 49,
              Name:    "comments",
            },
          },
        },
        Input: &ast.ValuesInput{
          Values: 55,
          Rows:   []*ast.ValuesRow{
            &ast.ValuesRow{
              Lparen: 62,
              Rparen: 72,
              Exprs:  []*ast.DefaultExpr{
                &ast.DefaultExpr{
                  DefaultPos: -1,
                  Expr:       &ast.StringLiteral{
                    ValuePos: 63,
                    ValueEnd: 72,
                    Value:    "Groovy!",
                  },
                },
              },
            },
          },
        },
      },
    },
  },
  Where: &ast.Where{
    Where: 75,
    Expr:  &ast.BinaryExpr{
      Op:   "AND",
      Left: &ast.BinaryExpr{
        Op:   "=",
        Left: &ast.Path{
          Idents: []*ast.Ident{
            &ast.Ident{
              NamePos: 81,
              NameEnd: 82,
              Name:    "s",
            },
            &ast.Ident{
              NamePos: 83,
              NameEnd: 91,
              Name:    "SingerId",
            },
          },
        },
        Right: &ast.IntLiteral{
          ValuePos: 94,
          ValueEnd: 95,
          Base:     10,
          Value:    "5",
        },
      },
      Right: &ast.BinaryExpr{
        Op:   "=",
        Left: &ast.Path{
          Idents: []*ast.Ident{
            &ast.Ident{
              NamePos: 100,
              NameEnd: 101,
              Name:    "s",
            },
            &ast.Ident{
              NamePos: 102,
              NameEnd: 111,
              Name:    "AlbumInfo",
            },
            &ast.Ident{
              NamePos: 112,
              NameEnd: 117,
              Name:    "title",
            },
          },
        },
        Right: &ast.StringLiteral{
          ValuePos: 120,
          ValueEnd: 133,
          Value:    "Fire is Hot",
        },
      },
    },
  },
}

--- SQL
UPDATE Singers s SET (INSERT INTO s.AlbumInfo.comments () VALUES ("Groovy!")) WHERE s.SingerId = 5 AND s.AlbumInfo.title = "Fire is Hot"
